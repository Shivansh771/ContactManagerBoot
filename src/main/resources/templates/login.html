<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="base::Layout(~{::section})"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <style>
      /* Centering the login box */
      body,
      html {
        height: 100%;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f5f5f5;
      }
      .mainbox {
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <section>
      <div
        id="loginbox"
        class="mainbox bg-white col-md-6 offset-md-3 mt-5 text-center p-4 rounded-5"
      >
        <div class="panel panel-info">
          <div class="panel-heading">
            <div class="panel-title h2">Login</div>
            <div th:if="${param.error}" class="alert alert-danger">
              Invalid email or password
            </div>
            <div th:if="${param.logout}" class="alert alert-successz">
              Logged out
            </div>

            <divx
              style="
                float: right;
                font-size: 80%;
                position: relative;
                top: -10px;
              "
            >
              <a href="#">Forgot password?</a>
            </divx>
          </div>
          <div style="padding-top: 30px" class="panel-body">
            <div
              style="display: none"
              id="login-alert"
              class="alert alert-danger col-sm-12"
            ></div>

            <!-- Ensure unique attributes and correct form action for Spring Security -->
            <form
              id="loginform"
              class="form-horizontal"
              role="form"
              th:action="@{/do_login}"
              method="POST"
            >
              <div style="margin-bottom: 25px" class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-user"></i
                ></span>
                <input
                  id="login-username"
                  type="text"
                  class="form-control"
                  name="username"
                  placeholder="username or email"
                />
              </div>
              <div style="margin-bottom: 25px" class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-lock"></i
                ></span>
                <input
                  id="login-password"
                  type="password"
                  class="form-control"
                  name="password"
                  placeholder="password"
                />
              </div>
              <div class="input-group">
                <div class="checkbox">
                  <label>
                    <input
                      id="login-remember"
                      type="checkbox"
                      name="remember-me"
                      value="1"
                    />
                    Remember me
                  </label>
                </div>
              </div>
              <div style="margin-top: 10px" class="form-group">
                <div class="col-sm-12 controls">
                  <button type="submit" class="btn btn-success">Login</button>
                </div>
              </div>
              <div class="form-group">
                <div class="col-md-12 control">
                  <div
                    style="
                      border-top: 1px solid #888;
                      padding-top: 15px;
                      font-size: 85%;
                    "
                  >
                    Don't have an account!
                    <a href="/signup">Sign Up Here</a>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
